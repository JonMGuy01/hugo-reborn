window.CMS_CONFIG = {
  backend: {
    name: 'github',
    repo: 'JonMGuy01/hugo-reborn',
    branch: 'master',
    auth_type: 'implicit',
    app_id: 'Ov23li2bxkZR8lC34iCs', // Your GitHub OAuth App Client ID
    auth_scope: 'repo',
    auth_endpoint: 'https://theguys.online/api/auth' // Point to your Cloudflare Pages Function
  },
  // ... rest of your config ...
media_folder: static/img
public_folder: /img
collections:
  - name: 'blog'
    label: 'Blog'
    folder: 'content/blog'
    create: true
    slug: '{{slug}}'
    editor:
      preview: false
    fields:
      - { label: 'Title', name: 'title', widget: 'string' }
      - { label: 'Publish Date', name: 'date', widget: 'datetime' }
      - { label: 'Description', name: 'description', widget: 'string' }
      - { label: 'Body', name: 'body', widget: 'markdown' }
};

CMS.init({ config: window.CMS_CONFIG });
